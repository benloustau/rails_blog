<!-- user's profile page -->
<div class="wrapper">

  <div class="left-column">
    <div class="profile-container">
      <h3><%= @user.fname %>'s Profile Page</h3>
      <p>Location: <%= @user.location %></p>
      <div>Bio: <%= @user.bio %></div>
    </div>

    <div class="post-container">
      <%= form_for @post do |f| %>
        <p><%= f.text_area :body, class: 'post-form', autofocus: true, placeholder: 'Make a post...' %></p>
        <p><%= f.submit class: "submit-btn" %></p>
      <% end %>
    </div>


    <h3><%= @user.followeds.empty? ? "#{@user.fname} is not following anyone." : "Following"%></h3>

    <ul>
      <% @user.followeds.each do |user| %>
      <li><%= link_to user.fname, user%></li>
      <%end%>
    </ul>
    
    <% if current_user and @user != current_user %>
      <% if current_user.followeds.include? @user %>
        <%= link_to 'unfollow', unfollow_user_path(@user), method: :post %>
      <% else %>
        <%= link_to 'follow', follow_user_path(@user), method: :post %>
      <% end %>
    <% end %>
  </div>

  <div class="right-column">
    <h3><%= @user.fname %>'s Posts</h3>
    
    <% @user.posts.each do |post| %>
      <p class="user-post">
        <p class="post-delete">
          <%= link_to 'x', post, method: :delete, data: {confirm: "Are you sure you want to delete this post?"} %>
        </p>
        <%= post.body %>
        <span class="time-text">
          <%= post.created_at.strftime("posted at %I:%M%p on %m/%d/%Y") %>
        </span>
      </p>

    <%end%>
  
  </div>
</div>



<p>
<%= link_to 'edit user', edit_user_path(@user) %> | 
<%= link_to 'back to users', users_path %>
</p>
